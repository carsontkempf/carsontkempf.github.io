---
layout: default
title: Dashboard
permalink: /dashboard/
---

<div id="dashboard-content-wrapper" style="display: none;">
  
  <header class="dashboard-header">
    <h1>{{ page.title }}</h1>
    <div id="user-profile-details"></div> 
  </header>

  <main class="dashboard-main-content">
    <div class="dashboard-buttons">
      <a href="{{ '/spotify-apple/' | relative_url }}" class="dashboard-btn">Spotify Apple Integration</a>
    </div>
    </main>
</div>

<div id="dashboard-login-prompt" style="display: none;">
    <h2>Access Denied</h2>
    <p>You must be logged in to view this page.</p>
    <button onclick="authService.login()" class="login-btn">Log In</button>
</div>

<script>
    document.addEventListener('authReady', () => {
        if (window.authService.isAuthenticated) {
            document.getElementById('dashboard-content-wrapper').style.display = 'block';
            
            const user = window.authService.user;
            const profileDiv = document.getElementById('user-profile-details');
            
            if (user && profileDiv) {
                // This injects HTML with the correct classes to match our CSS
                profileDiv.innerHTML = `
                    <p class="welcome-message">Welcome, ${user.name}!</p>
                    <p class="login-status">Your login status is confirmed.</p>
                `;
            }
        } else {
            document.getElementById('dashboard-login-prompt').style.display = 'block';
        }
    });
</script>